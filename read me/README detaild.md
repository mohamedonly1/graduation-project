# ูุดุฑูุน ุงูุชุนุฑู ุนูู ูุบุฉ ุงูุฅุดุงุฑุฉ ุงูุนุฑุจูุฉ ุงูููุญุฏุฉ
# Arabic Sign Language Recognition System

---

## ๐ ูุธุฑุฉ ุนุงูุฉ ุนูู ุงููุดุฑูุน

ูุฐุง ุงููุดุฑูุน ูุธุงู ููุชุนุฑู ุนูู ูุบุฉ ุงูุฅุดุงุฑุฉ ุงูุนุฑุจูุฉ ุงูููุญุฏุฉ ูู ุงูููุช ุงููุนูู (Real-time) ุจุงุณุชุฎุฏุงู ุงููุงููุฑุง. ูููู ุงููุธุงู ุจุชุญููู ุญุฑูุงุช ุงููุฏ ูุงูุชุนุฑู ุนูู ุงูุญุฑูู ุงูุฃุจุฌุฏูุฉ ุงูุนุฑุจูุฉ ุงูู28 ูุชุฌููุนูุง ูู ูููุงุช.

### ุงููุฏู
ุจูุงุก ูุธุงู ูุณุงุนุฏ ูู ุงูุชูุงุตู ุจูู ูุฌุชูุน ุงูุตู ูุงูุจูู ูุงููุฌุชูุน ุงูุนุงู ุนู ุทุฑูู ุชุฑุฌูุฉ ุฅุดุงุฑุงุช ุงููุฏ ุฅูู ูุต ุนุฑุจู ููุฑูุก.

---

## ๐๏ธ ูุนูุงุฑูุฉ ุงููุธุงู

```
ุงููุงููุฑุง (OpenCV) โ MediaPipe (21 ููุทุฉ) โ ููุฏูู TFLite (MLP) โ ุนุฑุถ ุงููุชูุฌุฉ (ูุต ุนุฑุจู)
```

### ุดุฑุญ ุงููุฑุงุญู
1. **ุงููุงููุฑุง**: ุชูุชูุท ุงูููุฏูู ูู ุงูููุช ุงููุนูู ุนุจุฑ OpenCV
2. **MediaPipe**: ูุณุชุฎุฑุฌ 21 ููุทุฉ ูู ุงููุฏ (landmarks) ููุญููููุง ูุฅุญุฏุงุซูุงุช
3. **ุงูููุฏูู**: ุดุจูุฉ ุนุตุจูุฉ (MLP) ุชุตููู ุงูุฅููุงุกุฉ ูุชุญุฏุฏ ุงูุญุฑู
4. **ุงูุนุฑุถ**: ูุธูุฑ ุงูุญุฑู ูุงููููุฉ ุจุงููุต ุงูุนุฑุจู ุนูู ุงูุดุงุดุฉ

---

## ๐ ูููู ุงููุดุฑูุน

```
arabic-sign-language/
โ
โโโ collect_data.py          โ ุฃุฏุงุฉ ุฌูุน ุจูุงูุงุช ุงูุชุฏุฑูุจ
โโโ train_model.py           โ ุณูุฑูุจุช ุชุฏุฑูุจ ุงูููุฏูู
โโโ app_arabic.py            โ ุงูุชุทุจูู ุงูููุงุฆู (Real-time)
โโโ Cairo-Regular.ttf        โ ูููุช ุนุฑุจู ููุนุฑุถ
โ
โโโ arabic_data/             โ ุจูุงูุงุช ุงูุชุฏุฑูุจ (ุชุชููุฏ ุชููุงุฆูุงู)
โ   โโโ arabic_keypoints.csv   โ ุฅุญุฏุงุซูุงุช ููุงุท ุงููุฏ ููู ุนููุฉ
โ   โโโ arabic_labels.csv      โ ุฃุณูุงุก ุงูุญุฑูู ูุฃุฑูุงููุง
โ
โโโ arabic_model/            โ ุงูููุฏูู ุงููุฏุฑููุจ (ูุชููุฏ ุจุนุฏ ุงูุชุฏุฑูุจ)
    โโโ arabic_sign_model.h5       โ ุงูููุฏูู ุจุตูุบุฉ Keras
    โโโ arabic_sign_model.tflite   โ ุงูููุฏูู ุงููุถุบูุท ูููุดุฑ
    โโโ best_model.h5              โ ุฃูุถู ูุณุฎุฉ ุฃุซูุงุก ุงูุชุฏุฑูุจ
    โโโ confusion_matrix.png       โ ูุตูููุฉ ุงูุฃุฎุทุงุก
    โโโ training_curves.png        โ ููุญููุงุช ุงูุฏูุฉ ูุงูุฎุณุงุฑุฉ
```

---

## ๐ ุงูููุชุจุงุช ุงููุณุชุฎุฏูุฉ ูุดุฑุญ ุฏูุฑูุง

### 1. MediaPipe (mediapipe==0.10.11)
**ุงูุฏูุฑ**: ุงูููุชุจุฉ ุงูุฃุณุงุณูุฉ ูุงูุชุดุงู ุงููุฏ ูุงุณุชุฎุฑุงุฌ ููุงุทูุง.

ุชููู ุจุงูุชุดุงู ุงููุฏ ูู ุงูุตูุฑุฉ ูุฅุฑุฌุงุน **21 ููุทุฉ** (landmarks) ุชูุซู ููุงุตู ุงูุฃุตุงุจุน ูุฑุงุญุฉ ุงููุฏ:

```
ุงูููุงุท: ุงููุนุตู (0) + ุฅุจูุงู (1-4) + ุณุจุงุจุฉ (5-8) + ูุณุทู (9-12) + ุจูุตุฑ (13-16) + ุฎูุตุฑ (17-20)
```

```python
from mediapipe.python.solutions import hands as mp_hands_solutions
hands = mp_hands_solutions.Hands(
    max_num_hands=1,               # ูุฏ ูุงุญุฏุฉ ููุท
    min_detection_confidence=0.7,  # ุฏูุฉ ุงูุชุดุงู 70%
    min_tracking_confidence=0.5    # ุฏูุฉ ุชุชุจุน 50%
)
```

---

### 2. TensorFlow / Keras (tensorflow==2.10.1)
**ุงูุฏูุฑ**: ุจูุงุก ูุชุฏุฑูุจ ุงูุดุจูุฉ ุงูุนุตุจูุฉุ ูุชุญููููุง ูุตูุบุฉ TFLite.

**ูุนูุงุฑูุฉ ุงูููุฏูู (MLP - Multi-Layer Perceptron)**:
```
Input (42)  โ  Dense(128) + BatchNorm + Dropout(0.3)
            โ  Dense(256) + BatchNorm + Dropout(0.3)
            โ  Dense(128) + BatchNorm + Dropout(0.2)
            โ  Dense(64)  + Dropout(0.2)
            โ  Output(28) Softmax
```

- **Input**: 42 ูููุฉ = 21 ููุทุฉ ร (x, y)
- **BatchNormalization**: ูุณุฑูุน ุงูุชุฏุฑูุจ ููุณุชูุฑ ุงููุชุงุฆุฌ
- **Dropout**: ูููุน ุงูู Overfitting (ุญูุธ ุงูุจูุงูุงุช ุจุฏูุงู ูู ุชุนูููุง)
- **Softmax**: ูุญููู ุงููุชุงุฆุฌ ูุงุญุชูุงููุงุช ููู ุญุฑู (ูุฌููุนูุง = 1)

---

### 3. OpenCV (opencv-contrib-python)
**ุงูุฏูุฑ**: ุงูุชุนุงูู ูุน ุงููุงููุฑุง ูุฑุณู ุงูุนูุงุตุฑ ุนูู ุงูุดุงุดุฉ.

```python
cap = cv.VideoCapture(0)                           # ูุชุญ ุงููุงููุฑุง
image = cv.flip(image, 1)                          # ุนูุณ ุงูุตูุฑุฉ (ูุฑุขุฉ)
image = cv.cvtColor(image, cv.COLOR_BGR2RGB)       # ุชุญููู ุงูุฃููุงู ูู MediaPipe
cv.rectangle(image, pt1, pt2, color, thickness)   # ุฑุณู ูุณุชุทูู ุญูู ุงููุฏ
cv.imshow('window', image)                         # ุนุฑุถ ุงูุตูุฑุฉ
```

---

### 4. NumPy (numpy==1.26.4)
**ุงูุฏูุฑ**: ุงูุนูููุงุช ุงูุญุณุงุจูุฉ ุนูู ุงููุตูููุงุช.

```python
# ุชุทุจูุน ุฅุญุฏุงุซูุงุช ุงูููุงุท
max_val = max(abs(v) for v in rel_landmarks)
normalized = [v / max_val for v in rel_landmarks]

# ุชุญุถูุฑ ุงูุจูุงูุงุช ููููุฏูู
input_data = np.array([landmarks], dtype=np.float32)
```

---

### 5. Pillow + arabic-reshaper + python-bidi
**ุงูุฏูุฑ**: ุนุฑุถ ุงููุต ุงูุนุฑุจู ุจุดูู ุตุญูุญ ุนูู ุงูุตูุฑุฉ.

**ุงููุดููุฉ**: OpenCV ูุง ูุฏุนู ุงููุต ุงูุนุฑุจู ูุจุงุดุฑุฉ ูุฃู:
- ุงูุนุฑุจูุฉ ุชููุชุจ ูู ุงููููู ูููุณุงุฑ (RTL)
- ุงูุญุฑูู ุชุชุดูู ุญุณุจ ูููุนูุง ูู ุงููููุฉ

**ุงูุญู ุจุซูุงุซ ุฎุทูุงุช**:
```python
import arabic_reshaper
from bidi.algorithm import get_display
from PIL import ImageFont, ImageDraw, Image

# 1. arabic_reshaper: ูุตุญุญ ุดูู ุงูุญุฑูู (ูุซูุงู: ุจ ุชุตุจุญ ุจู ุฃู ูุจู ุญุณุจ ุงููููุน)
reshaped = arabic_reshaper.reshape("ูุฑุญุจุง")

# 2. python-bidi: ูุนูุณ ุงุชุฌุงู ุงููุชุงุจุฉ ูู ุงููุณุงุฑ ูููููู
bidi_text = get_display(reshaped)

# 3. Pillow: ูุฑุณู ุงููุต ุนูู ุงูุตูุฑุฉ ุจูููุช Cairo
img_pil = Image.fromarray(cv.cvtColor(img, cv.COLOR_BGR2RGB))
draw = ImageDraw.Draw(img_pil)
font = ImageFont.truetype('Cairo-Regular.ttf', 40)
draw.text(position, bidi_text, font=font, fill=color)
```

---

### 6. scikit-learn
**ุงูุฏูุฑ**: ุชูุณูู ุงูุจูุงูุงุช ูุชูููู ุงูููุฏูู.

```python
from sklearn.model_selection import train_test_split
from sklearn.metrics import classification_report, confusion_matrix

# ุชูุณูู 80% ุชุฏุฑูุจุ 20% ุงุฎุชุจุงุฑ ูุน ุงูุญูุงุธ ุนูู ุชูุฒูุน ุงููุฆุงุช
X_train, X_test, y_train, y_test = train_test_split(
    X, y, test_size=0.2, stratify=y, random_state=42
)
```

---

### 7. Matplotlib + Seaborn
**ุงูุฏูุฑ**: ุฑุณู ูุชุงุฆุฌ ุงูุชุฏุฑูุจ ูุชุญููู ุงูุฃุฏุงุก.

```python
# Confusion Matrix: ุชูุธูุฑ ุงูุญุฑูู ุงููุชุดุงุจูุฉ ูุงูุฃุฎุทุงุก
sns.heatmap(confusion_matrix(y_test, y_pred), annot=True)

# Training Curves: ููุญููุงุช ุงูุฏูุฉ ูุงูุฎุณุงุฑุฉ ุนุจุฑ ุงูู Epochs
plt.plot(history.history['accuracy'])
plt.plot(history.history['val_accuracy'])
```

---

## ๐ ุดุฑุญ ุชุฏูู ุงูุจูุงูุงุช

### ูุฑุญูุฉ ุฌูุน ุงูุจูุงูุงุช (collect_data.py)

**ุฎุทูุงุช ุงููุนุงูุฌุฉ**:
1. ูุฑุงุกุฉ ุฅุทุงุฑ ูู ุงููุงููุฑุง
2. MediaPipe ููุชุดู ุงููุฏ ููุฑุฌุน 21 ููุทุฉ (x, y ููู ููุทุฉ)
3. **ุชุญููู ูุฅุญุฏุงุซูุงุช ูุณุจูุฉ**: ุทุฑุญ ุฅุญุฏุงุซูุงุช ุงููุนุตู ูู ูู ููุทุฉ
4. **ุชุทุจูุน**: ูุณูุฉ ุนูู ุฃูุจุฑ ูููุฉ ูุทููุฉ (ุงููุชูุฌุฉ ุจูู -1 ู 1)
5. ุญูุธ ุงูู 42 ูููุฉ ูุน ุฑูู ุงูุญุฑู ูู ููู CSV

```python
def extract_landmarks(hand_landmarks, image_shape):
    # ุงุณุชุฎุฑุงุฌ ุงูุฅุญุฏุงุซูุงุช ุงูุฎุงู
    for lm in hand_landmarks.landmark:
        x = int(lm.x * width)
        y = int(lm.y * height)

    # ุชุญููู ูุฅุญุฏุงุซูุงุช ูุณุจูุฉ (ูุณุชููุฉ ุนู ูููุน ุงููุฏ ูู ุงูุตูุฑุฉ)
    base_x, base_y = landmark_list[0]  # ุงููุนุตู ูููุทุฉ ูุฑุฌุนูุฉ
    rel = [x - base_x, y - base_y for x, y in landmark_list]

    # ุชุทุจูุน (ูุณุชูู ุนู ุญุฌู ุงููุฏ)
    max_val = max(abs(v) for v in rel)
    normalized = [v / max_val for v in rel]
```

**ููุงุฐุง ุงูุชุทุจูุน ูููุ**
- ูุฌุนู ุงูููุฏูู ูุชุนุฑู ุนูู ุงูุฅููุงุกุฉ ุจุบุถ ุงููุธุฑ ุนู **ูููุน ุงููุฏ** ูู ุงูุตูุฑุฉ
- ูุฌุนูู ูุณุชููุงู ุนู **ุญุฌู ุงููุฏ** (ูุฏ ูุจูุฑุฉ ุฃู ุตุบูุฑุฉ)
- ูุญุณู ุฏูุฉ ุงูุชุนุฑู ุจุดูู ูุจูุฑ

---

### ูุฑุญูุฉ ุงูุชุฏุฑูุจ (train_model.py)

**ุงูู Callbacks ุงููุณุชุฎุฏูุฉ**:

| Callback | ุงูุฏูุฑ |
|----------|-------|
| EarlyStopping | ูููู ุงูุชุฏุฑูุจ ุฅุฐุง ุชููู ุงูุชุญุณู (patience=20 epoch) |
| ReduceLROnPlateau | ูููู ูุนุฏู ุงูุชุนูู ุนูุฏ ุงูุชููู (factor=0.5) |
| ModelCheckpoint | ูุญูุธ ุฃูุถู ูุณุฎุฉ ูู ุงูููุฏูู ุชููุงุฆูุงู |

---

### ูุฑุญูุฉ ุงูุชุทุจูู (app_arabic.py)

**ูุธุงู ุชุฃููุฏ ุงูุญุฑู (History Buffer)**:
```python
HISTORY_LENGTH = 25    # ุนุฏุฏ ุงูุฅุทุงุฑุงุช ุงููุทููุจุฉ
AGREEMENT_RATIO = 0.85 # 85% ูู ุงูุฅุทุงุฑุงุช ูุฌุจ ุฃู ุชุชูู

prediction_history = deque(maxlen=25)

# ูุณุฌู ุงูุญุฑู ููุท ูู 85% ูู ุขุฎุฑ 25 ุฅุทุงุฑ ูุชูููู
most_common = Counter(prediction_history).most_common(1)[0]
if most_common[1] >= 25 * 0.85:
    confirmed_letter = labels_dict[most_common[0]]
```

**ููุงุฐุง ูุฐุง ุงููุธุงูุ**
- ูููุน ุชุณุฌูู ุญุฑูู ุฎุงุทุฆุฉ ุจุณุจุจ ุญุฑูุฉ ุนุงุจุฑุฉ
- ูุนุทู ููุชุงู ูุงููุงู ูููุณุชุฎุฏู ูุซุจูุช ุงูุฅููุงุกุฉ
- ุงูุดุฑูุท ุงูุฃุฎุถุฑ ุนูู ุงูุดุงุดุฉ ููุธูุฑ ูุฏู ุงูุชูุงู ุงูุชุฃููุฏ

**ูุธุงู ุงูู Cooldown**:
```python
COOLDOWN_FRAMES = 40  # 40 ุฅุทุงุฑ ุชูุฑูุจุงู 1.3 ุซุงููุฉ

# ุจุนุฏ ุชุณุฌูู ุญุฑูุ ุงูุชุธุฑ ูุจู ุชุณุฌูู ุงูุชุงูู
if confirmed_letter:
    current_word.append(confirmed_letter)
    cooldown = COOLDOWN_FRAMES
```

---

## ๐๏ธ ุชูุณูู ุงูุจูุงูุงุช

### ููู arabic_keypoints.csv
```
label, x0, y0, x1, y1, ..., x20, y20
0, 0.0, 0.0, 0.15, -0.08, ...   โ ุญุฑู ุฃ
1, 0.0, 0.0, 0.12, -0.11, ...   โ ุญุฑู ุจ
```
- **ุงูุนููุฏ ุงูุฃูู**: ุฑูู ุงูุญุฑู (0-28)
- **ุงูุฃุนูุฏุฉ ุงูุชุงููุฉ**: 42 ูููุฉ (ุฅุญุฏุงุซูุงุช 21 ููุทุฉ ุจุนุฏ ุงูุชุทุจูุน)

### ููู arabic_labels.csv
```
0, ุฃ
1, ุจ
2, ุช
...
28, ูุง
```

---

## ๐ค ุงูุญุฑูู ุงููุฏุนููุฉ ูููุงุชูุญูุง

| ููุชุงุญ | ุญุฑู |
|-------|------|
|   1   |  ุฃ   |
|   2   |  ุจ   |
|   3   |  ุช   |
|   4   |  ุซ   |
|   5   |  ุฌ   |
|   6   |  ุญ   |
|   7   |  ุฎ   |
|   8   |  ุฏ   |
|   9   |  ุฐ   |
|   0   |  ุฑ   |
|   q   |  ุฒ   |
|   w   |  ุณ   |
|   e   |  ุด   |
|   r   |  ุต   |
|   t   |  ุถ   |
|   y   |  ุท   |
|   u   |  ุธ   |
|   i   |  ุน   |
|   o   |  ุบ   |
|   p   |  ู   |
|   a   |  ู   |
|   s   |  ู   |
|   d   |  ู   |
|   f   |  ู   |
|   g   |  ู   |
|   h   |  ู   |
|   j   |  ู   |
|   k   |  ู   |
|   l   |  ูุง   |
---

## โ๏ธ ูุชุทูุจุงุช ุงูุชุดุบูู

### ุงูุจูุฆุฉ
```
Python 3.10
Windows 10/11
ูุงููุฑุง ููุจ
```

### ุชุซุจูุช ุงูููุชุจุงุช
```bash
python -m venv venv310
venv310\Scripts\activate

pip install mediapipe==0.10.11
pip install tensorflow==2.10.1
pip install numpy==1.26.4
pip install opencv-contrib-python
pip install Pillow arabic-reshaper python-bidi
pip install scikit-learn matplotlib seaborn
```

---

## ๐ ุชุดุบูู ุงููุดุฑูุน

### 1. ุฌูุน ุงูุจูุงูุงุช
```bash
python collect_data.py
```
- ุงุถุบุท ููุชุงุญ ุงูุญุฑู (ูุซุงู: 1 ูู ุฃ)
- ุซุจูุช ูุฏู ุจุดูู ุงูุฅุดุงุฑุฉ
- ุงุถุบุท SPACE ูุชุณุฌูู ุนููุฉ
- ุงููุฏู: **200 ุนููุฉ ููู ุญุฑู ุนูู ุงูุฃูู**

### 2. ุชุฏุฑูุจ ุงูููุฏูู
```bash
python train_model.py
```
- ููุชูู ุชููุงุฆูุงู ุนูุฏ ุชููู ุงูุชุญุณู
- ูุญูุธ ุงูููุฏูู ูู ูุฌูุฏ arabic_model/

### 3. ุงูุชุทุจูู ุงูููุงุฆู
```bash
python app_arabic.py
```

| ุฒุฑ | ุงููุธููุฉ |
|----|---------|
| SPACE | ุฅุถุงูุฉ ูุณุงูุฉ ุจูู ุงููููุงุช |
| BACKSPACE | ุญุฐู ุขุฎุฑ ุญุฑู |
| C | ูุณุญ ุงููููุฉ ูุงููุงู |
| ESC | ุฅุบูุงู ุงูุชุทุจูู |

---

## ๐ ูุชุงุฆุฌ ุงูุชุฏุฑูุจ (10 ุญุฑูู - ุงููุฑุญูุฉ ุงูุฃููู)

| ุงูุญุฑู | Precision | Recall | F1-Score |
|-------|-----------|--------|----------|
| ุฃ | 0.95 | 1.00 | 0.98 |
| ุจ | 0.87 | 0.98 | 0.92 |
| ุช | 0.98 | 1.00 | 0.99 |
| ุซ | 1.00 | 0.98 | 0.99 |
| ุฌ | 1.00 | 0.85 | 0.92 |
| ุญ | 0.85 | 1.00 | 0.92 |
| ุฎ | 1.00 | 0.97 | 0.99 |
| ุฏ | 0.95 | 0.53 | 0.68 |
| ุฐ | 0.95 | 0.95 | 0.95 |
| ุฑ | 0.67 | 0.85 | 0.75 |
| **ุงููุชูุณุท** | **0.92** | **0.91** | **0.91** |

**ุงูุฏูุฉ ุงููููุฉ: 91.2%** ุนูู 2044 ุนููุฉ

### ุชุญููู ุงูุฃุฎุทุงุก
- **ุฏ ู ุฑ**: ุฃูุซุฑ ุงูุญุฑูู ุชุดุงุจูุงู ูู ุงูุฅุดุงุฑุฉ โ ูุญุชุงุฌุงู ุจูุงูุงุช ุฅุถุงููุฉ (300+ ุนููุฉ)
- ุจุงูู ุงูุญุฑูู ุชุฌุงูุฒุช 92% ููู ูุณุชูู ููุชุงุฒ ููุดุฑูุน ุชุฎุฑุฌ

---

## ๐ง ุชุญุณููุงุช ููุชุฑุญุฉ

### ุชุญุณูู ุงูุฏูุฉ
- ุฒูุงุฏุฉ ุนููุงุช ุงูุชุฏุฑูุจ ูู **300-500 ุนููุฉ** ููู ุญุฑู
- ุฌูุน ุจูุงูุงุช ูู **ุฃุดุฎุงุต ูุฎุชูููู** (ุฌูุณุ ุญุฌู ูุฏุ ููู ุจุดุฑุฉ)
- **Data Augmentation**: ุฅุถุงูุฉ ุชุดููุด ุทููู ุนูู ุงูุฅุญุฏุงุซูุงุช ุฃุซูุงุก ุงูุชุฏุฑูุจ

### ุชุญุณูู ุงูููุฏูู
- ุชุฌุฑุจุฉ **CNN** ุจุฏูุงู ูู MLP ููุญุตูู ุนูู ุฏูุฉ ุฃุนูู
- ุฅุถุงูุฉ **LSTM** ููุชุนุฑู ุนูู ุงููููุงุช ูุงููุฉ ูููุณ ุญุฑูุงู ุจุญุฑู

### ุชุญุณูู ุงูุชุทุจูู
- ุฅุถุงูุฉ **Text-to-Speech** ูุชุญููู ุงููุต ูุตูุช ุนุฑุจู
- ุฏุนู **ููุชุง ุงููุฏูู** ูุนุงู
- ูุดุฑ ุงูุชุทุจูู ุนูู **ุงูููุจุงูู** ุจุงุณุชุฎุฏุงู TFLite

---

## ๐ ุงููุฑุงุฌุน

- [MediaPipe Hands Documentation](https://developers.google.com/mediapipe/solutions/vision/hand_landmarker)
- [TensorFlow Lite Guide](https://www.tensorflow.org/lite/guide)
- ุงููุดุฑูุน ุงูุฃุตูู: [hand-gesture-recognition-using-mediapipe](https://github.com/Kazuhito00/hand-gesture-recognition-using-mediapipe)
